{{ define "main" }}
	<main class="o-container--main o-stack--xl o-stack--xxl@md">
		<article class="h-entry c-post o-stack">
			{{ $blog_param := .Params.section }}
			{{ $blog_param_type := "post"}}
			{{ $blog_item := eq $blog_param $blog_param_type}}
				{{- if $blog_item -}}
				<h1 class="c-post-title">
                    {{.Title}}
                </h1>
				{{- end -}}
				<div class="c-post__meta c-post__meta--date">
					{{ if $blog_item }}<div{{else}}<h1{{end}} class="c-post__meta-item c-post__meta-item--date{{- if $blog_item}} c-post__meta-header--article{{end}}">
						<div class="c-post-meta c-post-meta--calendar">
							<svg class="o-icon u-mr-1" aria-hidden="true">
								<use href="#icon-calendar"></use>
                            </svg>
                            <span>
								{{ if eq .Lang "es" }}
								{{ .Date.Day }} {{ index $.Site.Data.meses (printf "%d" .Date.Month) }} {{ .Date.Year }}
								{{ else }}
								{{.Date.Format "Jan 2 2006"}}
								{{ end }}
								<span class="c-post__meta-item--date__time">at {{ .Date.Format "3:04 PM" }}</span></span>
						</div>
						{{- if $blog_item -}}
						<div class="c-post-meta c-post-meta--read">
                            <svg class="o-icon u-mr-1" aria-hidden="true">
                                <use href="#icon-read"></use>
                            </svg>
                            <span>{{ .ReadingTime }} min read</span>
                        </div>
						{{- end -}}
					{{ if $blog_item }}</div{{else}}</h1{{end}}>
				</div>
				<!-- Defining type name classes -->
				{{ $type := "text" }}
				{{ if eq .Type "likes" }}
					{{ $type = "like" }}

					{{ else if eq .Type "links" }}
						{{ $type = "link" }}
					{{ else if eq .Type "replies" }}
						{{ $type = "reply" }}
					{{ else if eq .Type "photos" }}
						{{ $type = "photo" }}
					{{ else if eq .Type "videos" }}
						{{ $type = "video" }}
				{{end}}
				<div class="c-post__content{{ if eq .Type "photos" "links" "replies" "notes" "likes" "videos" }} c-note--{{$type}} {{end}} e-content p-name o-stack--sm">
					{{ if eq .Type "replies"}}
						{{- partial "components/notes/reply.html"
							(dict
								"avatar" .Params.avatar
								"avatar_size" "lg"
								"context_author_name" .Params.context_author_name
								"context_author_url" .Params.context_author_url
								"context_url" .Params.context_url
								"context_date" .Params.context_date
								"context_date_friendly" .Params.context_date_friendly
								"context" .Params.context
							)
						-}}
					{{ end }}
					{{if eq .Type "links" }}
						{{ partial "components/notes/link.html"
							(dict
								"link_url" .Params.link_url
								"link_title" .Params.link_title
								"classes" "link"
						)}}
					{{end}}
					{{if eq .Type "photos" }}
						{{- partial "components/notes/photo.html" . -}}
					{{end}}
					{{if eq .Type "videos" }}
						{{- partial "components/notes/video.html" . -}}
					{{end}}
                    <div class="c-post__text o-stack">
						{{- if eq .Type "likes"}}
							{{- partial "components/notes/like.html" . -}}
						{{ else }}
                        	{{ .Content }}
						{{ end -}}
                    </div>
                </div>
				<div class="c-post__meta o-stack--xxs@md">
                    <div class="c-post-meta c-post-meta--time">
                        <svg class="o-icon u-mr-1" aria-hidden="true">
                            <use href="#icon-time"></use>
                        </svg>
                        {{ .Date.Format "3:04 PM" }}
                    </div>
					{{ if .IsTranslated }}
						{{ range $i, $e := .Translations }}
							{{ if $i }},{{ end }}
							<div class="c-post-meta c-post-meta--lang">
								<svg class="o-icon u-mr-1" aria-hidden="true">
									<use href="#icon-lang"></use>
								</svg>
								<a class="c-post-meta__link" href="{{ .Permalink }}" rel="alternate" hreflang="{{ .Lang }}" lang="{{ .Lang }}">
									{{ $e.Language.LanguageName }}
								</a>
							</div>
						{{ end }}
					{{ end }}
					{{- if .Params.weather}}
						<div title="{{ .Params.weather_summary }}" class="c-post-meta c-post-meta--weather">
							<svg class="o-icon u-mr-1" aria-hidden="true">
								<use href="#icon-weather-{{ .Params.weather_icon }}"></use>
							</svg>
							{{ .Params.weather }}
						</div>
					{{ end -}}
					{{- if .Params.location_dms}}
                    <div class="c-post-meta c-post-meta--location">
                        <svg class="o-icon u-mr-1" aria-hidden="true">
                            <use href="#icon-location"></use>
                        </svg>
                        <a class="c-post-meta__link p-location h-geo" href="https://www.openstreetmap.org/#map=15/{{.Params.lat}}/{{.Params.long}}">
                            {{ .Params.location_dms }}
                        </a>
                    </div>
					{{ end -}}
					{{- if eq .Type "photos" "links" "replies" "notes" "videos" }}
						{{- partial "wm" . -}}
						{{- partial "sidebar-responses" . -}}
					{{- end }}
					{{- if .Params.tags }}
						<div class="c-post__meta-item c-post__meta-item--tags">
							{{ range .Params.tags }}
								<a class="c-tag"​ href="​/tags/{{ . | urlize }}"​>{{ . }}</a>
							{{ end }}
						</div>
					{{ end -}}
                </div>
		</article>
		{{- if eq .Type "photos" "links" "replies" "notes" "videos" }}
			{{ $.Scratch.Set "tweet_id" .Params.tweet_id }}
			{{- partial "components/post-reactions" . -}}
		{{- end }}
	</main>
{{ end }}
