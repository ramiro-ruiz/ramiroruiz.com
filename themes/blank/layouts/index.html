{{ define "home-main" }}
	<main class="o-stack--xl o-stack--xxl@md">
		<section class="o-stack">
			{{ partial "components/section-heading.html" (dict "text" "Blog" "link" "/blog" "desc" "See all posts") }}
			<div class="c-posts__list">
				{{ range first 3 (where .Site.RegularPages "Type" "blog") }}
					<article class="h-entry c-posts__item o-stack">
						<div class="o-stack--xs">
							<header class="o-stack--xxs">
								<h1 class="c-posts__item-title"><a href="{{ .RelPermalink }}">{{.Title}}</a></h1>
								<div class="c-posts__item-meta">
									<span class="u-d-inline-flex u-align-items-center">
										<svg class="o-icon" aria-hidden="true">
											<use href="#icon-calendar"></use>
										</svg>
										<time class="dt-published" datetime="{{ .Date.Format "2006-01-02T15:04:05-07:00" }}">
											{{ if eq .Lang "es" }}{{ .Date.Day }} {{ index $.Site.Data.meses (printf "%d" .Date.Month) }} {{ .Date.Year }}{{ else }}{{.Date.Format "Jan 2 2006"}}{{ end }}
										</time>
									</span>
									<span class="u-d-inline-flex u-align-items-center u-ml-2">
										<svg class="o-icon" aria-hidden="true">
											<use href="#icon-read"></use>
										</svg>
										{{ .ReadingTime }} min
									</span>
								</div>
							</header>
							<p class="c-posts__item-summary">
								{{ .Summary }}
							</p>
						</div>
						<a class="c-btn c-btn--link" href="{{ .RelPermalink }}">Continue reading â†’</a>
					</article>
				{{ end }}
			</div>
		</section>
		<section class="o-stack">
			{{ partial "components/section-heading.html" (dict "text" "Notes" "link" "notes" "desc" "See all notes") }}
			<div class="c-masonry-list">
			{{ range first 16 (where .Site.Pages "Type" "in" (slice "photos" "videos" "replies" "notes" "links" "likes")) }}
				<!-- Defining type name classes -->
				{{ $type := "text" }}
				{{ if eq .Type "likes" }}
					{{ $type = "like" }}

					{{ else if eq .Type "links" }}
					{{ $type = "link" }}
					{{ else if eq .Type "replies" }}
					{{ $type = "reply" }}
					{{ else if eq .Type "photos" }}
					{{ $type = "photo" }}
					{{ else if eq .Type "videos" }}
					{{ $type = "video" }}
				{{end}}
				<article class="h-entry">
					<div class="c-note c-note--{{$type}} c-masonry-list__item o-stack--xxs">
						<div class="c-note__content o-stack--xs">
						{{ if eq .Type "replies"}}
							{{partial "components/notes/reply.html"
							(dict
								"avatar" .Params.avatar
								"avatar_size" "sm"
								"context_author_name" .Params.context_author_name
								"context_author_url" .Params.context_author_url
								"context_url" .Params.context_url
								"context_date" .Params.context_date
								"context_date_friendly" .Params.context_date_friendly
								"context" .Params.context
							)}}
						{{ end }}
						{{with eq .Type "links" }}
							{{partial "components/notes/links.html"}}
						{{end}}
						{{with eq .Type "photos" }}
							{{partial "components/notes/photo.html"}}
						{{end}}
						{{with eq .Type "videos" }}
							{{partial "components/notes/video.html"}}
						{{end}}
						{{if eq .Type "links" }}
							<p class="c-note__content-text c-note--{{$type}}__content-text">
						{{else if eq .Type "likes" }}
								{{partial "components/notes/like.html"
								(dict
								"like_of" .Params.like_of
								"tweet_author" .Params.tweet_author
								"ig_post" .Params.ig_post
								)}}
						{{else}}
								{{ .Content }}
							</p>
						{{end}}
						{{with eq .Type "reposts" }}
							{{partial "components/notes/repost.html"}}
						{{end}}
						</div>
						<a href="{{ .RelPermalink }}" class="c-note__date">
							<time class="dt-published" datetime="{{ .Date.Format "2006-01-02T15:04:05-07:00" }}">
								{{ if eq .Lang "es" }}{{ .Date.Day }} {{ index $.Site.Data.meses (printf "%d" .Date.Month) }} {{ .Date.Year }}{{ else }}{{.Date.Format "Jan 2 2006"}}{{ end }}
							</time>
						</a>
						<a class="c-note__icon" href="{{ .Type }}">
							<svg class="c-note__icon" aria-hidden="true">
								<use href="#note-{{$type}}"></use>
							</svg>
						</a>
					</div>
				</article>
			{{ end }}
			</div>
		</section>
	</main>
{{ end }}
